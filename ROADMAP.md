# ROADMAP

백엔드 확장 및 기술 스택 고도화 계획

## 기술 스택별 적용 방안

### 1. OAuth 인증
- Google/Kakao 소셜 로그인
- 즐겨찾기, 설정 등 사용자별 데이터 저장의 기반

### 2. Django + PostgreSQL
- 사용자 관리, 즐겨찾기 CRUD API
- CCTV 조회 이력/통계 저장
- 알림 설정 저장

### 3. LLM 관련
- 자연어 CCTV 검색: "강남역 근처 CCTV" → 좌표 변환 후 검색
- 교통 상황 요약: 현재 보고 있는 구간의 정체 상황을 자연어로 설명
- 음성 명령: "서해대교 CCTV 보여줘"

### 4. AWS 배포
- EC2/ECS: Django 서버
- RDS: PostgreSQL
- S3: 정적 파일 (프론트엔드를 Netlify 대신 S3+CloudFront로 이전 가능)
- Lambda: 비동기 작업 트리거

### 5. 비전 처리
- 특정 CCTV 스냅샷 캡처 → 차량/정체 감지
- 사고 감지 알림 (선택한 CCTV만 분석)
- 단, 실시간 전체 분석은 비용 문제로 비현실적 → 사용자가 선택한 CCTV만 분석하는 방식

### 6. Celery + Redis/RabbitMQ
- 알림 기능: 특정 구간 정체 시 이메일/푸시 발송 (비동기)
- 스냅샷 분석: 주기적으로 선택된 CCTV 캡처 → 비전 분석 → 결과 저장
- 통계 집계: 일별/시간대별 조회 통계 배치 처리

## 구현 우선순위

| 순서 | 기능 | 기술 스택 |
|------|------|-----------|
| 1 | 인증 + 즐겨찾기 동기화 | Django, PostgreSQL, OAuth |
| 2 | AWS 배포 | EC2, RDS, (S3) |
| 3 | 특정 구간 알림 | Celery, Redis |
| 4 | 자연어 검색 | LLM API (OpenAI/Claude) |
| 5 | 스냅샷 분석 | OpenCV, 비전 모델 |

## 배포 구조 (예정)

```
┌─────────────────┐     ┌─────────────────┐
│   Netlify       │     │   AWS EC2       │
│   (Frontend)    │────▶│   (Django)      │
│   React App     │     │   REST API      │
└─────────────────┘     └────────┬────────┘
                                 │
                        ┌────────▼────────┐
                        │   AWS RDS       │
                        │   PostgreSQL    │
                        └────────┬────────┘
                                 │
                        ┌────────▼────────┐
                        │   Redis         │
                        │   (Celery)      │
                        └─────────────────┘
```
